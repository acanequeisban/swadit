"use strict";(self.webpackChunksb_admin_angular4_bootstrap4=self.webpackChunksb_admin_angular4_bootstrap4||[]).push([[243],{8243:(O,m,c)=>{c.d(m,{d:()=>p});var e=c(2660),t=c(8830),d=c(3386),h=c(6352),u=c(6814),l=c(6223),f=c(2047),y=c(8881);function b(o,n){if(1&o&&(t.TgZ(0,"option",25),t._uU(1),t.qZA()),2&o){const i=n.$implicit;t.xp6(1),t.hij(" ",i," ")}}function C(o,n){if(1&o){const i=t.EpF();t.TgZ(0,"div",26)(1,"swadit-schema-editor",27),t.NdJ("objChange",function(s){t.CHM(i);const _=t.oxw();return t.KtG(_.obj=s)}),t.qZA()()}if(2&o){const i=t.oxw();t.xp6(1),t.Q6J("schema",i.apis.schemas.operation)("obj",i.obj)("id","pathSchema")("group",0)}}function E(o,n){if(1&o){const i=t.EpF();t.TgZ(0,"div",26)(1,"swadit-schema-editor",27),t.NdJ("objChange",function(s){t.CHM(i);const _=t.oxw();return t.KtG(_.obj=s)}),t.qZA()()}if(2&o){const i=t.oxw();t.xp6(1),t.Q6J("schema",i.apis.schemas.operation)("obj",i.obj)("id","pathSchema")("group",1)}}function M(o,n){if(1&o){const i=t.EpF();t.TgZ(0,"div",26)(1,"swadit-schema-editor",27),t.NdJ("objChange",function(s){t.CHM(i);const _=t.oxw();return t.KtG(_.obj=s)}),t.qZA()()}if(2&o){const i=t.oxw();t.xp6(1),t.Q6J("schema",i.apis.schemas.operation)("obj",i.obj)("id","pathSchema")("group",2)}}function T(o,n){if(1&o){const i=t.EpF();t.TgZ(0,"div",26)(1,"label",28),t._uU(2,"Security"),t.qZA(),t.TgZ(3,"swadit-security-editor",29),t.NdJ("objChange",function(s){t.CHM(i);const _=t.oxw(2);return t.KtG(_.obj.security=s)}),t.qZA()()}if(2&o){const i=t.oxw(2);t.xp6(3),t.Q6J("schema",i.apis.schemas.security)("obj",i.obj.security)("id","security")("securityDefinitions",i.apis.current.securityDefinitions)}}function x(o,n){1&o&&(t.TgZ(0,"li",14)(1,"a",15),t._uU(2,"Security"),t.qZA(),t.YNc(3,T,4,4,"ng-template",16),t.qZA())}const P=function(o){return{"mr-auto":o}};function K(o,n){if(1&o){const i=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(i);const s=t.oxw();return t.KtG(s.deletePath())}),t._uU(1," Delete Path"),t.qZA()}if(2&o){const i=t.oxw();t.Q6J("ngClass",t.VKq(1,P,!i.methodKey_orig))}}function v(o,n){if(1&o){const i=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){t.CHM(i);const s=t.oxw();return t.KtG(s.deleteMethod())}),t._uU(1," Delete Method"),t.qZA()}}function a(o,n){if(1&o&&(t.TgZ(0,"span",32),t._uU(1),t.qZA()),2&o){const i=t.oxw();t.xp6(1),t.hij(" ",i.errorStr," ")}}let p=(()=>{class o{static#t=this.modalOptions={size:"lg"};constructor(i,r){this.activeModal=i,this.apis=r,this.pathKey=null,this.pathKey_orig=null,this.methodKey=null,this.methodKey_orig=null,this.obj=null,this.obj_orig=null,this.errorStr=null}ngOnInit(){this.pathKey_orig=this.pathKey,this.methodKey_orig=this.methodKey,this.obj_orig=this.obj,this.obj_orig||(this.obj_orig={}),this.obj=(0,e.Z)(this.obj_orig),this.obj.consumes||(this.obj.consumes=[]),this.obj.produces||(this.obj.produces=[]),this.obj.tags||(this.obj.tags=[]),this.obj.security||(this.obj.security=[]),this.obj.externalDocs||(this.obj.externalDocs={})}ok(){if(console.log("PathEditComponent.ok()"),!this.pathKey||!this.pathKey.trim())return void(this.errorStr="Please enter a path.");if(this.pathKey=this.pathKey.trim(),!this.pathKey.startsWith("/"))return void(this.errorStr="Path must start with '/'.");if(this.pathKey!=this.pathKey_orig&&this.apis.current.paths&&this.apis.current.paths[this.pathKey])return void(this.errorStr="Path already exists.");if(this.methodKey!=this.methodKey_orig&&this.apis.current.paths&&this.apis.current.paths[this.pathKey]&&this.apis.current.paths[this.pathKey][this.methodKey])return void(this.errorStr="Method already exists for this path.");const i=(0,e.Z)(this.obj);this.apis.cleanUp(this.apis.schemas.operation,i),i.externalDocs&&!i.externalDocs.url&&!i.externalDocs.description&&delete i.externalDocs,i.security&&0==i.security.length&&delete i.security,Object.keys(this.obj_orig).forEach(r=>delete this.obj_orig[r]),Object.keys(i).forEach(r=>this.obj_orig[r]=i[r]),console.log("path-edit",i),this.pathKey_orig?this.pathKey!=this.pathKey_orig&&this.apis.renameObjectKey(this.apis.current.paths,this.pathKey_orig,this.pathKey):(this.apis.current.paths||(this.apis.current.paths={}),this.apis.current.paths[this.pathKey]={}),this.methodKey_orig?this.methodKey!=this.methodKey_orig&&this.apis.renameObjectKey(this.apis.current.paths[this.pathKey],this.methodKey_orig,this.methodKey):this.apis.current.paths[this.pathKey][this.methodKey]=this.obj_orig,this.apis.current.paths[this.pathKey][this.methodKey].responses||(this.apis.current.paths[this.pathKey][this.methodKey].responses={default:{description:"Default"}}),this.errorStr="",this.activeModal.close({path:this.pathKey,method:this.methodKey})}deletePath(){console.log("PathEditComponent.deletePath()"),this.pathKey_orig&&(delete this.apis.current.paths[this.pathKey_orig],this.activeModal.close({}))}deleteMethod(){console.log("PathEditComponent.deleteMethod()"),this.methodKey_orig&&(delete this.apis.current.paths[this.pathKey_orig][this.methodKey_orig],this.activeModal.close({path:this.pathKey}))}static#e=this.\u0275fac=function(r){return new(r||o)(t.Y36(d.Kz),t.Y36(h.Q))};static#o=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-path-edit"]],decls:38,vars:9,consts:[[3,"ngSubmit"],["editForm","ngForm"],["id","modal-body",1,"modal-body"],[1,"row"],[1,"col-md-2"],["for","methodKey"],["id","methodKey","name","methodKey","required","",1,"form-control",2,"text-transform","uppercase",3,"ngModel","ngModelChange"],["style","text-transform: uppercase",4,"ngFor","ngForOf"],[1,"col-md-10"],[1,"form-group"],["for","pathKey"],["type","text","id","pathKey","name","pathKey","required","","placeholder","Enter path","title","Path",1,"form-control",3,"ngModel","ngModelChange"],["ngbNav","",1,"nav-tabs"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],["ngbNavItem","",4,"ngIf"],[1,"mt-2",3,"ngbNavOutlet"],[1,"modal-footer"],["class","btn btn-danger","type","button","title","Delete path",3,"ngClass","click",4,"ngIf"],["class","btn btn-danger mr-auto","type","button","title","Delete method",3,"click",4,"ngIf"],["style","color: red",4,"ngIf"],["type","submit","title","Apply changes",1,"btn","btn-primary",3,"disabled"],["type","button","title","Do not apply changes",1,"btn","btn-warning",3,"click"],[2,"text-transform","uppercase"],[1,"tab-content"],[3,"schema","obj","id","group","objChange"],["for","security"],[3,"schema","obj","id","securityDefinitions","objChange"],["type","button","title","Delete path",1,"btn","btn-danger",3,"ngClass","click"],["type","button","title","Delete method",1,"btn","btn-danger","mr-auto",3,"click"],[2,"color","red"]],template:function(r,s){if(1&r&&(t.TgZ(0,"form",0,1),t.NdJ("ngSubmit",function(){return s.ok()}),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"label",5),t._uU(6,"Operation"),t.qZA(),t.TgZ(7,"select",6),t.NdJ("ngModelChange",function(g){return s.methodKey=g}),t.YNc(8,b,2,1,"option",7),t.qZA()(),t.TgZ(9,"div",8)(10,"div",9)(11,"label",10),t._uU(12,"Path"),t.qZA(),t.TgZ(13,"input",11),t.NdJ("ngModelChange",function(g){return s.pathKey=g}),t.qZA()()()(),t.TgZ(14,"ul",12,13)(16,"li",14)(17,"a",15),t._uU(18,"Info"),t.qZA(),t.YNc(19,C,2,4,"ng-template",16),t.qZA(),t.TgZ(20,"li",14)(21,"a",15),t._uU(22,"General"),t.qZA(),t.YNc(23,E,2,4,"ng-template",16),t.qZA(),t.TgZ(24,"li",14)(25,"a",15),t._uU(26,"Docs"),t.qZA(),t.YNc(27,M,2,4,"ng-template",16),t.qZA(),t.YNc(28,x,4,0,"li",17),t.qZA(),t._UZ(29,"div",18),t.qZA(),t.TgZ(30,"div",19),t.YNc(31,K,2,3,"button",20),t.YNc(32,v,2,0,"button",21),t.YNc(33,a,2,1,"span",22),t.TgZ(34,"button",23),t._uU(35," Apply"),t.qZA(),t.TgZ(36,"button",24),t.NdJ("click",function(){return s.activeModal.dismiss("cancel")}),t._uU(37," Cancel"),t.qZA()()()),2&r){const _=t.MAs(1),g=t.MAs(15);t.xp6(7),t.Q6J("ngModel",s.methodKey),t.xp6(1),t.Q6J("ngForOf",s.apis.methodKeys),t.xp6(5),t.Q6J("ngModel",s.pathKey),t.xp6(15),t.Q6J("ngIf",s.apis.current.securityDefinitions||s.obj.security),t.xp6(1),t.Q6J("ngbNavOutlet",g),t.xp6(2),t.Q6J("ngIf",s.pathKey_orig),t.xp6(1),t.Q6J("ngIf",s.methodKey_orig),t.xp6(1),t.Q6J("ngIf",s.errorStr),t.xp6(1),t.Q6J("disabled",!_.form.valid)}},dependencies:[u.mk,u.sg,u.O5,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.Q7,l.On,l.F,d.uN,d.Pz,d.nv,d.Is,d.Vx,d.tO,d.Dy,f.i,y.D],styles:["label[_ngcontent-%COMP%]{font-size:80%;font-weight:700;margin-bottom:.3rem}"]})}return o})()},8881:(O,m,c)=>{c.d(m,{D:()=>v});var e=c(8830),t=c(2660),d=c(6814),h=c(6223),u=c(3386),l=c(4202),f=c(4192);function y(a,p){1&a&&e._UZ(0,"i",18)}function b(a,p){1&a&&e._UZ(0,"i",19)}function C(a,p){if(1&a&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&a){const o=p.$implicit;e.xp6(1),e.Oqu(o)}}function E(a,p){if(1&a){const o=e.EpF();e.TgZ(0,"select",3),e.NdJ("ngModelChange",function(i){e.CHM(o);const r=e.oxw().$implicit,s=e.oxw().index,_=e.oxw();return e.KtG(_.changeProperty(i,s,r))}),e.YNc(1,C,2,1,"option",4),e.qZA()}if(2&a){const o=e.oxw().$implicit,n=e.oxw(2);e.Gre("form-control ",n.schema["x-swadit-input-class"]||"",""),e.s9C("id",n.id),e.s9C("title",n.schema.description),e.Q6J("ngModel",o),e.xp6(1),e.Q6J("ngForOf",n.keys(n.securityDefinitions))}}function M(a,p){if(1&a){const o=e.EpF();e.TgZ(0,"input",20),e.NdJ("ngModelChange",function(i){e.CHM(o);const r=e.oxw().$implicit,s=e.oxw().index,_=e.oxw();return e.KtG(_.changeProperty(i,s,r))}),e.qZA()}if(2&a){const o=e.oxw().$implicit,n=e.oxw(2);e.Gre("form-control ",n.schema["x-swadit-input-class"]||"",""),e.s9C("id",n.id),e.s9C("placeholder",n.schema.description),e.s9C("title",n.schema.description),e.Q6J("ngModel",o)}}function T(a,p){if(1&a){const o=e.EpF();e.TgZ(0,"div",1)(1,"div",9)(2,"span",5),e.NdJ("click",function(){const r=e.CHM(o).$implicit,s=e.oxw(2);return e.KtG(s.collapsed[r]=!s.collapsed[r])}),e.YNc(3,y,1,0,"i",10),e.YNc(4,b,1,0,"i",11),e.qZA(),e.YNc(5,E,2,7,"select",12),e.YNc(6,M,1,7,"ng-template",13,14,e.W1O),e.TgZ(8,"span",5),e.NdJ("click",function(i){e.CHM(o);const r=e.oxw().index,s=e.oxw();return e.KtG(s.deleteItem(i,r))}),e._UZ(9,"i",15),e.qZA()(),e.TgZ(10,"div",16),e._UZ(11,"swadit-array-editor",17),e.qZA()()}if(2&a){const o=p.$implicit,n=e.MAs(7),i=e.oxw().$implicit,r=e.oxw();e.xp6(3),e.Q6J("ngIf",!r.collapsed[o]),e.xp6(1),e.Q6J("ngIf",r.collapsed[o]),e.xp6(1),e.Q6J("ngIf",r.isSecurityDefinition(o))("ngIfElse",n),e.xp6(5),e.Q6J("ngbCollapse",r.collapsed[o]),e.xp6(1),e.Q6J("schema",r.scopes(o))("obj",i[o])}}function x(a,p){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,T,12,7,"div",8),e.qZA()),2&a){const o=p.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.keys(o))("ngForTrackBy",n.trackByIndex)}}function P(a,p){if(1&a&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&a){const o=p.$implicit;e.xp6(1),e.Oqu(o)}}function K(a,p){if(1&a){const o=e.EpF();e.TgZ(0,"ngb-alert",21),e.NdJ("close",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.noItemToAdd=!1)}),e._uU(1,"Please enter a valid value to add."),e.qZA()}2&a&&e.Q6J("type","danger")}let v=(()=>{class a{constructor(){this.objChange=new e.vpe,this.securityRequirement={type:"array",items:{type:"string",description:"Security requirement",enum:[]},uniqueItems:!0},this.securityScope={type:"array",items:{type:"string",description:"Oauth2 scope",enum:[]},uniqueItems:!0},this.collapsed={},this.propertyToAdd="",this.noItemToAdd=!1}get obj(){return this._obj}set obj(o){this._obj=o,this.objChange.emit(this._obj)}ngOnInit(){this.keys(this.securityDefinitions).forEach(o=>{this.collapsed[o]=!0})}keys(o){return o?Object.keys(o):[]}scopes(o){if(!this.securityDefinitions||!this.securityDefinitions[o])return this.securityScope;const n=(0,t.Z)(this.securityScope);return n.items.enum=this.securityDefinitions[o].scopes?this.keys(this.securityDefinitions[o].scopes):[],n}addProperty(o){if(o.preventDefault(),console.log("addProperty",this.propertyToAdd),!this.propertyToAdd)return void(this.noItemToAdd=!0);this.noItemToAdd=!1;const n={};n[this.propertyToAdd]=[],this.obj.push(n),this.propertyToAdd=""}deleteItem(o,n){o.preventDefault(),console.log("deleteItem",n),this.obj.splice(n,1)}changeProperty(o,n,i){if(o!=i){const r=this.obj[n][i];this.obj[n]={},this.obj[n][o]=r,this.collapsed[o]=this.collapsed[i],console.log("changeProperty",o,i,this.obj)}}trackByIndex(o,n){return o}isSecurityDefinition(o){let n=!1;return this.keys(this.securityDefinitions).forEach(i=>{o==i&&(n=!0)}),n}static#t=this.\u0275fac=function(n){return new(n||a)};static#e=this.\u0275cmp=e.Xpm({type:a,selectors:[["swadit-security-editor"]],inputs:{schema:"schema",id:"id",securityDefinitions:"securityDefinitions",obj:"obj"},outputs:{objChange:"objChange"},decls:8,vars:10,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],[1,"form-group"],[1,"input-group"],[3,"id","ngModel","title","ngModelChange"],[4,"ngFor","ngForOf"],[1,"input-group-addon","clickable",3,"click"],[1,"fa","fa-plus"],[3,"type","close",4,"ngIf"],["class","form-group",4,"ngFor","ngForOf","ngForTrackBy"],[1,"input-group","input-group-overlapping-border"],["class","fa fa-caret-down",4,"ngIf"],["class","fa fa-caret-right",4,"ngIf"],[3,"id","ngModel","class","title","ngModelChange",4,"ngIf","ngIfElse"],["class","form-control"],["noSecDef",""],[1,"fa","fa-trash"],[3,"ngbCollapse"],[1,"form-control",2,"background-color","#f7f7f9",3,"schema","obj"],[1,"fa","fa-caret-down"],[1,"fa","fa-caret-right"],["type","text",2,"color","red",3,"id","ngModel","placeholder","title","ngModelChange"],[3,"type","close"]],template:function(n,i){1&n&&(e.YNc(0,x,2,2,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"select",3),e.NdJ("ngModelChange",function(s){return i.propertyToAdd=s}),e.YNc(4,P,2,1,"option",4),e.qZA(),e.TgZ(5,"span",5),e.NdJ("click",function(s){return i.addProperty(s)}),e._UZ(6,"i",6),e.qZA()(),e.YNc(7,K,2,1,"ngb-alert",7),e.qZA()),2&n&&(e.Q6J("ngForOf",i.obj)("ngForTrackBy",i.trackByIndex),e.xp6(3),e.Gre("form-control ",i.schema["x-swadit-input-class"]||"",""),e.s9C("id",i.id),e.s9C("title",i.schema.description),e.Q6J("ngModel",i.propertyToAdd),e.xp6(1),e.Q6J("ngForOf",i.keys(i.securityDefinitions)),e.xp6(3),e.Q6J("ngIf",i.noItemToAdd))},dependencies:[d.sg,d.O5,h.YN,h.Kr,h.Fj,h.EJ,h.JJ,h.On,u.xm,u._D,l.P,f.S],styles:["label[_ngcontent-%COMP%]{font-size:80%;font-weight:700;margin-bottom:.3rem;cursor:pointer}.form-group[_ngcontent-%COMP%]{margin-bottom:.5rem}.monospace[_ngcontent-%COMP%]{font-family:monospace}[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#ccc}.header[_ngcontent-%COMP%]{margin-bottom:.3rem}.input-wrap[_ngcontent-%COMP%]{display:block;width:100%;padding:0}.input-wrap[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .input-wrap[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{display:block;width:100%;border-bottom-right-radius:0;border-top-right-radius:0;border-color:#d9d9d9}.input-wrap[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .input-wrap[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#5cb3fd}.input-group-overlapping-border[_ngcontent-%COMP%]{margin-bottom:-1px}.input-group-overlapping-border[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .input-group-overlapping-border[_ngcontent-%COMP%]   .input-group-addon[_ngcontent-%COMP%]{border-color:#d9d9d9}.input-group-overlapping-border[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#5cb3fd}.form-control[_ngcontent-%COMP%]{width:100%}"]})}return a})()}}]);